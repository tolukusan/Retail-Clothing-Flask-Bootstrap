<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}O&T Store{% endblock %}</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/products.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/product_detail.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/wallet.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/cart.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
</head>

<body class="d-flex flex-column min-vh-100">
  <header>
    <nav class="navbar navbar-expand-lg modern-navbar">
      <div class="container">
        <a class="navbar-brand brand-logo" href="{{ url_for('main.index') }}">
          <span class="brand-text">O&T</span>
          <span class="brand-subtitle">STORE</span>
        </a>
        <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto ms-lg-5">
            <li class="nav-item">
              <a class="nav-link nav-link-custom" href="{{ url_for('main.index') }}">
                <i class="bi bi-house-door me-1"></i>Home
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link nav-link-custom" href="{{ url_for('main.product_list') }}">
                <i class="bi bi-shop me-1"></i>Store
              </a>
            </li>
          </ul>
          <ul class="navbar-nav">
            {% if current_user.is_authenticated %}
            <li class="nav-item">
              <a class="nav-link nav-link-custom wallet-link" href="{{ url_for('wallet.wallet_home') }}">
                <i class="bi bi-wallet2 me-1"></i>
                <span class="wallet-amount">£{{ current_user.wallet_balance|round(2) }}</span>
              </a>
            </li>           
            <li class="nav-item">
              <a class="nav-link nav-link-custom cart-link" href="{{ url_for('cart.view_cart') }}">
                <i class="bi bi-cart3 me-1"></i>Cart
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link nav-link-custom" href="{{ url_for('auth.logout') }}">
                <i class="bi bi-box-arrow-right me-1"></i>Logout
              </a>
            </li>
            {% else %}
            <li class="nav-item">
              <a class="nav-link nav-link-custom" href="{{ url_for('auth.login') }}">
                <i class="bi bi-box-arrow-in-right me-1"></i>Login
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link nav-link-custom btn-register" href="{{ url_for('auth.register') }}">
                <i class="bi bi-person-plus me-1"></i>Register
              </a>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>
  </header>
  
  <main class="flex-grow-1">
    <div class="container py-4">
      {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
      {% for category, msg in messages %}
      <div class="alert modern-alert alert-{{ category }} alert-dismissible fade show" role="alert">
        <div class="alert-icon">
          {% if category == 'success' %}
          <i class="bi bi-check-circle-fill"></i>
          {% elif category == 'danger' %}
          <i class="bi bi-exclamation-triangle-fill"></i>
          {% elif category == 'warning' %}
          <i class="bi bi-exclamation-circle-fill"></i>
          {% else %}
          <i class="bi bi-info-circle-fill"></i>
          {% endif %}
        </div>
        <div class="alert-content">{{ msg }}</div>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
      {% endfor %}
      {% endif %}
      {% endwith %}

      {% block content %}{% endblock %}
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="modern-footer">
    <div class="footer-wave">
      <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"></path>
      </svg>
    </div>
    
    <div class="container py-5">
      <div class="row g-4">
        <!-- Contact Information -->
        <div class="col-lg-4 col-md-6">
          <h5 class="footer-title">
            <i class="bi bi-telephone-fill me-2"></i>Contact Us
          </h5>
          <div class="footer-content">
            <p class="mb-2 contact-item">
              <i class="bi bi-phone me-2"></i>
              <a href="tel:08037852177">08037852177</a>
            </p>
            <p class="mb-3 contact-item">
              <i class="bi bi-phone me-2"></i>
              <a href="tel:07046882642">07046882642</a>
            </p>
            <p class="mb-0 contact-item">
              <i class="bi bi-envelope-fill me-2"></i>
              <a href="mailto:O&T@gmail.com">O&T@gmail.com</a>
            </p>
          </div>
        </div>

        <!-- Quick Links -->
        <div class="col-lg-4 col-md-6">
          <h5 class="footer-title">
            <i class="bi bi-link-45deg me-2"></i>Quick Links
          </h5>
          <ul class="footer-links">
            {% if current_user.is_authenticated %}
            <li>
              <a href="{{ url_for('cart.user_orders') }}">
                <i class="bi bi-clock-history me-2"></i>Order History
              </a>
            </li>
            <li>
              <a href="{{ url_for('wallet.wallet_home') }}">
                <i class="bi bi-person-circle me-2"></i>My Account
              </a>
            </li>
            {% else %}
            <li>
              <a href="{{ url_for('auth.login') }}">
                <i class="bi bi-box-arrow-in-right me-2"></i>Login to Access
              </a>
            </li>
            {% endif %}
            <li>
              <a href="{{ url_for('main.product_list') }}">
                <i class="bi bi-bag me-2"></i>Store
              </a>
            </li>
          </ul>
        </div>

        <!-- Social Media -->
        <div class="col-lg-4 col-md-12">
          <h5 class="footer-title">
            <i class="bi bi-share me-2"></i>Follow Us
          </h5>
          <div class="footer-content">
            <div class="social-links">
              <a href="#" class="social-link" title="Instagram">
                <i class="bi bi-instagram"></i>
              </a>
              <a href="#" class="social-link" title="LinkedIn">
                <i class="bi bi-linkedin"></i>
              </a>
              <a href="#" class="social-link" title="Twitter">
                <i class="bi bi-twitter"></i>
              </a>
            </div>
            <p class="customer-service">
              <i class="bi bi-headset me-2"></i>Customer Service
              <a href="mailto:O&T@gmail.com">O&T@gmail.com</a>
            </p>
          </div>
        </div>
      </div>
      
      <!-- Copyright Notice -->
      <div class="footer-bottom">
        <p class="mb-0">
          © 2024 O&T Store. All rights reserved. | Crafted with <i class="bi bi-heart-fill text-danger"></i>
        </p>
      </div>
    </div>
  </footer>

  <!-- Bootstrap 5 JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>

</html>